[toc] 

#### DNS

- DNS（Domain Name System） 域名服务系统
- 提供域名到IP间的解析服务
  - 接收来自客户端的查询消息，然后根据消息的内容返回响应


#### IP与IP地址

- IP（internet protocol）：作用是把各种数据包发送给对方
- IP地址：指明了节点被分配到的地址
  - 按照8bit为一组分成4组（8bit最大就是11111111->255），分别用十进制来表示然后用原点隔开
  - 主机号的两种特殊值
    - 全为0：表示整个子网
    - 全为1（255）：表示子网上所有设备发送包，即广播


#### 子网掩码

- 用来表示IP地址的内部结构
- 子网掩码为1的部分表示网络号，为0的部分表示

 #### 域名

- 就是像`www.glasscom.com`这样以.分隔的名称
- 越靠右的位置表示其层级越高
- ![domainName](.\image\domainName.png)

#### URL

- url（Uniform Resource Local） 统一资源定位符
- 一般组成
  - 服务器的域名
  - 要访问的文件/文件夹的路径
  - 用户名
  - 密码
  - 服务器端口号

#### URI

- uri（Uniform Resource Identifier）统一资源标识符
- 7月11日下午，目前的理解就是上图文件的路径名...

#### FTP

- ftp（File Transfer Protocol） 文件传送协议

#### HTTP

- HTTP（Hypertext Transfer Protocol）超文本传送协议
- 其主要方法
  - ![httpMainMathod](.\image\httpMainMathod.png)

- HTTP协议定义了客户端和服务器之间交互的消息内容和步骤
  - 客户端对服务器发送请求消息
    - 请求消息包含：
      - 请求行
        - 方法
        - URI
      - 消息头
      - 消息体
  - 服务器对客户端发送响应消息

#### CGI程序

- 对Web服务器程序调用其他程序的规则所做的定义就是CGI**，**而按照CGI规范来工作的程序就称为CGI程序

#### 根域

- 在互联网中，com和jp的上面还有一级域，成为根域
- 显示的表示就是在域名后面加个**“ . ”**
  - `www.glasscom.com.`

#### 缓存

- 指的是DNS服务器中存放的之前的查询记录的缓存
- 可以在下次查询时如果有命中的则会节约时间

#### 套接字——P63

- 建立两台设备之间的管道的关键是管道两端的数据出入口，这些**出入口**就被成为**套接字**
- IP地址与端口号可以唯一的确定一台计算机上的一个特定的套接字
- **基本概念：**
  - 存放**控制信息**的内存空间就是套接字的实体
    - 控制信息：
      - 通信对象的`IP`地址、端口号、通信操作的进行状态等


#### 描述符

- 用来在一台计算机内部识别套接字的机制

#### 端口号

- 用来让通信的另一方能够识别出套接字的机制
- 例如：
  - Web是80
  - 邮件是25


#### 大写Socket与小写socket

- Socket表示库
- socket表示程序的组件

+++

#### TCP

- TCP（Transmission Control Protocol）传输控制协议
- 浏览器、邮件等一般应用程序收发数据时用TCP

#### UDP

- UDP（User Datagram Protocol）用户数据报协议
- DNS查询等收发较短的控制数据时用UDP

#### ICMP

- ICMP（Internet Control Message Protocol）互联网控制消息协议
- 用于告知网络报传送过程中产生的错误以及各种控制消息

#### ARP

- APR（Address Resolution Protocol）地址解析协议
- 用于根据IP地址查询相应的以太网MAC地址

#### 网络包

- 网络中的数据会被切分成几十字节到几千字节的小块，每一个小数据块被称为一个包

#### 网卡驱动程序

- 负责控制网卡硬件

#### 网卡

- 负责完成实际的收发操作，也就是对网线中的信号执行发送和接收的操作

#### netstat

- `win`下显示套接字的内容
- `netstat -ano`
  - a不仅显示正在通信的套接字，还包括尚未开始通信等状态的所有套接字
  - 显示IP地址和端口号
  - 显示使用该套接字的程序PID

#### PID

- PID（Process ID） 进程标识符
- 是操作系统为了标识程序而分配的编号，使用任务管理器可以查询所对应的程序名称

#### 头部

- 用来记录和交换控制信息
- TCP头部

  - **控制位**

    - ACK（acknowledge）：

      - 表示接收数据序号字段有效，一般表示数据已被接收方收到
    - SYN（synchronize）同步：
    
      - 发送方和接收方相互确认序号，表示链接操作
    - FIN：置1表示断开连接
  - **序号——通知**
    - 占36比特，作用是发送方告知接收方该网络包发送的数据相当于所有发送数据的第几个字节
    - 发送方->接收方
  - **ACK号——回馈**
    - 接收方告知发送方已经收到了所有数据的第几个字节。
    - 接收方->发送方

#### MTU

- MTU（Maximum Transmission Unit）最大传输单元
- 包含IP和TCP头部的总长度
- 头部长度加数据块大小

#### MSS

- MSS（Maximum Segment Size）最大分段大小
- MTU - IP和TCP头部大小 

![MTU与MSS](.\image\MTU与MSS.png)

#### SFD

- SFD（Start Frame Delimiter）起始帧分解符，又称**报头**

#### FSC

- FCS（Frame Check Sequence）帧效验序列

#### 窗口的更新时机

- **当接收方将数据传递给应用程序，导致接收缓冲区剩余容量增加时**，就需要告诉发送方，这就是更新窗口大小的时机

#### 删除套接字时的等待时间

- 前提`P91`图相反的操作
  - 在服务器发送FIN的包之后，客户端返回的ACK号丢失了，服务器没有等到后会重新发送FIN的包给对应的套接字，如果这时客户端的套接字已经被删除，且恰好有一个应用程序创建了套接字且分配了一样的端口号，这时服务器的FIN包就会错误的跑到新的套接字里面，新套接字就会开始执行断开操作了。
  - 所以删除套接字时的**等待时间**，就是为了防止这样的误操作

#### 路由器

- 路由器根据目标地址判断下一个路由器的位置
- 路由器是按照IP规则传输包的设备

#### 集线器

- 在子网中将网络包传输到下一个路由
- 集线器是按照以太网规则传输包的设备
